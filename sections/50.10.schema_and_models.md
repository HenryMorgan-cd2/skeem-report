## The Schema

The schema is the central part of all of Skeems functionality. It is used to derive the database structure, covering everything from the tables to the columns, indexes and triggers. The schema is also used to validate the queries being sent and transform them into SQL which can the be sent to the database.

## Models

Models define the actual data to be stored.

### attributes

A models attributes are similar to a tables columns in a relational database. Each attribute on a model has a unique name and stores a single data type.
There are many attribute types each storing a distinct type of data such as strings or booleans.

One key feature of skeem is its ability to request trees of data, this is done via the association attribute.

- attributes
- scopes

### Scopes

Filters all for specifying specific criteria records must meet in order to be returned. Filters are built from many operator functions which will compiled down into a single value. If this value is "truthy" then the record will be returned.

There are many built in operators which provide range from very simple processes such as `eq` for equivalence, or `lt` for less than up to complex ones such as `path` which will traverse through many associations such as `invoice > product > category > name`. By combining different operations you can form a large array of filters covering many use cases.

```{.json caption="A filter using the 'eq', 'attr', and 'value' operators to filter only records whose name equals 'some text'"}
{
  "filter": {
    "eq": [
      { "attr": "name" },
      { "value": "some text" }
    ]
  }
}

```

### Migrations

Due to the criticalness of the schema developers do not modify it directly. The schema can grow to be a very large data object with a very strict format.

Allowing for direct manipulations of the schema could easily lead to unwanted outcomes including complete system failiure if the strucutre were to be changed from the expected. Another issue is that if two developers were working on the same skeem-powered project then it may be hard for them to resolve the difference if they both change the schema.

To solve mutate the schema safely developers create migrations defining the exact change they wish to make (adding a model, renaming an attribute, etc). Each migration is stored in a separate file. This means that........

Developers can then execute these migrations in order to manipulate the schema and thus the database in a repeatable and reversible manner.

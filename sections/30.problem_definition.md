# Problem Definition

## APIs

- APIs are hard to make
  - Consistent
  - Flexible
- They are either very complicated
- API design usally doesnt require a team of people to maintain but everyone needs to interact with at some point, waste of time training people

- Spas are growing in popularity however with an SPA comes the need to an API to serve the correct data
- Pages are no longer requested and built on the server, instead they are built on the client. This allows websites to be more interactive and can massively increase responsiveness. However, with SPAs comes a new issue:- you need a way to request data from the server, this leads to the need of an API.

---

- Apis tend to require knowledge which is not needed for front end development.

---

- APIs also tend to be very repetitive i.e you need an end point to fetch a list of blogs and you also need one to fetch all the products. What is really different about these routes? The table name in the sql and the attributes it returns. This duplication of code leads to more code which leads to more potential for bugs.
  - Lots of code = Lots of bugs.

---

Se- paration of code but a strong connection on functionality.

- SPAs require a server to interact with the database as sql is not safe to execute from a client

---

- Duplication of requests. Imagine having an end point requesting a list of blog posts. On the site you wist to display the title of each blog with a short extract from the body to act as a teaser. On this teaser you also want to display the authors name. You may also have a author page showing information about the author. This leads to an issue of either having two end points which return very similar data or reusing the end point but then forcing the end user to download more information then they actually require.

Building an API is easy, building a consistent and flexible API is hard.

---

## Databases

When building any non-trivial database driven application there are certain features which will need to be implemented.

- Repeated Code

  - Creating and maintaining a database involves a lot of repeated tasks

  - This server has a lot of code dedicated (sometimes entirely) for database interaction.

* Databases are complicated

  - It requires a lot of understanding to setup and maintain a database especially when wanting to perform any non trivial, but abstractly simple, tasks such as:
    - associations
    - file storage
    - user authentication
    - permissions
    - etc
  - All these tasks are very well defined and understood yet when setting up a database you have to reinvent the wheel every time.

  - Many non-technical people could take advantage of a database yet donâ€™t understand how.
    - Think how many excel spreadsheets get used and how complex they become
    - People need ordered and relation storage and retrieval systems

---

Databases should store normalizes data which, simply speaking means so structure data in flat tables i.e one for articles, one for authors, one for comments and then you store relational information on the tables. E.g a column on the comments table referencing a specific article and an author field on the article link it to the correct user. This is to remove duplication and allows database systems to cache and index data which is the reason databases can be so performant even over enormous datasets.

The issue with this, however, is that data is not displayed like this to the end user. The end user is not presented with a page containing an article and is required to navigate to a separate page displaying the authors name then have to navigate to a third place to read a list of comments. Rather the end user will be presented with a single page containing all the data amalgamated in an easily digestible and pleasant format. The data the user sees can be envisioned as a tree of data: the root being the article itself and then containing a connected nodes for each comment each having further nodes containing their authors.

Requesting a tree of data from a database is an extremely common and useful thing, however, despite being conceptually simple it can get incredibly complex even when having to traverse only a few levels deep.

![](./images/tree-diagram.png)
![](./images/tree-with-joins.png)

---

- Data consistency
  - Once you retrieve the data from a data source (server) it is important to keep that up to date
  - if it gets updated on the server it should be reflected on the client
